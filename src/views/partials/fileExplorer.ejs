<div class="file-explorer">
    <div class="control-panel mb-4 d-flex justify-content-between">
            <button class="btn btn-primary me-2" data-bs-toggle="modal" data-bs-target="#fileUploadModal">Upload file</button>
            <% if (folderView === false) { %>
                <button class="btn btn-primary " data-bs-toggle="modal" data-bs-target="#folderCreationModal">Create Folder</button>
            <% } %>
    </div>

    <div class="path-display">
            <p class="text-muted mb-0">Current path: <%= path %></p>
    </div>
    <% if (folderView === false) { %>
        <div class="folder-list mb-4">       
            <h3 class="mb-3">Folders</h3>
            <% if (folders && folders.length >= 1) { %>
                <ul class="list-group">
                    <% folders.forEach(folder=> { %>
                        <li class="list-group-item d-flex justify-content-between align-items-center bg-dark bg-gradient">
                            <a href="/user/<%= user.id %>/files/folder/<%= folder.id %>"><%= folder.name %></a>
                        <form action="/user/<%= user.id %>/files/folders/<%= folder.id %>/delete" method="post" class="mb-0">
                            <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm(`Are you sure you want to delete this folder? This action cannot be reversed.`)">Delete</button>
                        </form>
                    </li>
                    <% }) %>
                </ul>
            
                <% } else { %>
                    <p class="text-muted">No folders found.</p>
            <% } %>
        </div>
    <% } %>

    <div class="file-list">
        <h2 class="mb-3">Files</h2>
        <% if (files && files.length >= 1) { %>
         <ul class="list-group">
            <% files.forEach(file =>{ %>
                <li class="list-group-item d-flex justify-content-between align-items-center bg-dark bg-gradient">
                    <a href="/user/<%= user.id %>/files/<%= file.id %>"><%= file.title %></a>
                    <form action="/user/<%= user.id %>/files/<%= file.id %>/delete" method="post" class="mb-0">
                        <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm(`Are you sure you want to delete this file? This action cannot be reversed.`)">Delete</button>
                    </form>
                </li>
            <% }) %>
         </ul>
        <% } else { %>
            <p class="text-muted">No files found.</p>
        <% } %>
    </div>
</div>